# ğŸ’¸ Currency Transfer Service

REST API Ğ´Ğ»Ñ Ğ¼ÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ğ»ÑÑ‚Ğ½Ñ‹Ñ… Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ² Ğ¼ĞµĞ¶Ğ´Ñƒ ÑÑ‡ĞµÑ‚Ğ°Ğ¼Ğ¸. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ¾Ğ², Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹ Ğ¸ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ğ²Ğ°Ğ»ÑÑ‚.

---

## ğŸ“¦ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

- **DDD-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°**
- **Python 3.10+**
- **FastAPI** â€” REST API
- **SQLAlchemy (async)** â€” ORM
- **Alembic** â€” Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ‘Ğ”
- **Pydantic** â€” DTO Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
- **JWT** â€” Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- **PostgreSQL** / SQLite

---

## âš™ï¸ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
git clone https://github.com/yourname/currency-transfer-service.git
cd currency-transfer-service

python -m venv venv
source venv/bin/activate  # Windows: .\venv\Scripts\activate

pip install -r requirements.txt
```

---

## ğŸ—ƒï¸ ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

```bash
alembic upgrade head
```

---

## ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº

```bash
uvicorn app.main:app --reload
```

ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Swagger UI:
```
http://localhost:8000/docs
```

---

## ğŸ” ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ JWT:

1. `POST /auth/login` â€” Ğ»Ğ¾Ğ³Ğ¸Ğ½ Ñ email Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¼
2. Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹ `access_token`
3. ĞĞ°Ğ¶Ğ¼Ğ¸ "Authorize" Ğ² Swagger UI Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²ÑŒ:
   ```
   Bearer <your_token>
   ```

---

## ğŸ§­ API Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹

### ğŸ‘¤ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
- `POST /users/` â€” Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
- `GET /users/me` â€” Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ

### ğŸ”‘ ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- `POST /auth/login` â€” Ğ²Ñ…Ğ¾Ğ´ Ğ¿Ğ¾ email Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ

### ğŸ’³ ĞĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹
- `POST /accounts/` â€” ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑ‡Ñ‘Ñ‚
- `GET /accounts/` â€” ÑĞ¿Ğ¸ÑĞ¾Ğº ÑÑ‡ĞµÑ‚Ğ¾Ğ² Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- `GET /accounts/{id}` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‡Ñ‘Ñ‚
- `PUT /accounts/{id}` â€” Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ²Ğ°Ğ»ÑÑ‚Ñƒ
- `DELETE /accounts/{id}` â€” ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‡Ñ‘Ñ‚

### ğŸ’¸ ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ *(ÑĞºĞ¾Ñ€Ğ¾)*
- `POST /transfers/` â€” Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ñ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸ĞµĞ¹ Ğ¸ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸ĞµĞ¹
- `GET /transfers/` â€” Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹

---

## ğŸ§± Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° (DDD)

```
./
â”œâ”€â”€ alembic/ # ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Alembic)
â”œâ”€â”€ app/
â”‚ â”œâ”€â”€ contrib/ # ĞĞ±Ñ‰Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)
â”‚ â”œâ”€â”€ core/ # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”‚ â”œâ”€â”€ domains/ # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° (DDD)
â”‚ â”‚ â”œâ”€â”€ accounts/
â”‚ â”‚ â”‚ â”œâ”€â”€ abstration.py # ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ (Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹/ÑĞµÑ€Ğ²Ğ¸Ñ)
â”‚ â”‚ â”‚ â”œâ”€â”€ model.py # Ğ”Ğ¾Ğ¼ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Account
â”‚ â”‚ â”‚ â””â”€â”€ service.py # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ¾Ğ²
â”‚ â”‚ â””â”€â”€ users/
â”‚ â”‚ â”œâ”€â”€ abstraction.py # ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ (Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹/ÑĞµÑ€Ğ²Ğ¸Ñ)
â”‚ â”‚ â”œâ”€â”€ model.py # Ğ”Ğ¾Ğ¼ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ User
â”‚ â”‚ â””â”€â”€ service.py # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”‚ â”œâ”€â”€ dto/
â”‚ â”‚ â”œâ”€â”€ accounts.py # DTO Ğ´Ğ»Ñ Account
â”‚ â”‚ â”œâ”€â”€ auth.py # DTO Ğ´Ğ»Ñ Login / Token
â”‚ â”‚ â””â”€â”€ users.py # DTO Ğ´Ğ»Ñ User
â”‚ â”œâ”€â”€ gateway/
â”‚ â”‚ â””â”€â”€ routers/ # FastAPI Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹
â”‚ â”‚ â”œâ”€â”€ accounts.py # /accounts endpoints
â”‚ â”‚ â”œâ”€â”€ auth.py # /auth endpoints
â”‚ â”‚ â””â”€â”€ users.py # /users endpoints
â”‚ â”œâ”€â”€ infrastructure/
â”‚ â”‚ â”œâ”€â”€ accounts/
â”‚ â”‚ â”‚ â””â”€â”€ orm.py # ORM-Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Account
â”‚ â”‚ â””â”€â”€ users/
â”‚ â”‚ â”œâ”€â”€ orm.py # ORM-Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ User
â”‚ â”‚ â””â”€â”€ dependencies.py # Depends: get_current_user Ğ¸ Ñ‚.Ğ´.
â”‚ â”œâ”€â”€ repository/
â”‚ â”‚ â”œâ”€â”€ accounts.py # Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ AccountRepository
â”‚ â”‚ â””â”€â”€ users.py # Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ UserRepository
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â”œâ”€â”€ config.py # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ‘Ğ” Ğ¸ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
â”‚ â”‚ â””â”€â”€ init.py
â”‚ â””â”€â”€ main.py # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° FastAPI
â”œâ”€â”€ tests/ # Ğ¢ĞµÑÑ‚Ñ‹ (Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)
â”œâ”€â”€ README.md # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
â”œâ”€â”€ alembic.ini # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Alembic
â”œâ”€â”€ dev.db # SQLite Ğ±Ğ°Ğ·Ğ° (Ğ´Ğ»Ñ dev)
â””â”€â”€ requirements.txt # Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```

---

## ğŸ§ª Ğ¢ĞµÑÑ‚Ñ‹ (Ğ² Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞ¼)

```bash
pytest -v
```

---

